-- H2 2.2.224; 
;              
CREATE USER IF NOT EXISTS "USER" SALT '5a1ab3e3c1bc3028' HASH '04ef30c6fa2223a6f7b60c1492d1b983878de5bb419ffadbc5e8f77e59d04f0c' ADMIN;        
CREATE MEMORY TABLE "PUBLIC"."ANTIRETROVIRAL_ENTITY"(
    "ID" UUID NOT NULL,
    "LIGNE_TRAITEMENT_ENTITY_ID" UUID,
    "UTILISATEUR_ENTITY_ID" UUID,
    "LABORATOIRE" CHARACTER VARYING(255),
    "NOM" CHARACTER VARYING(255)
);           
ALTER TABLE "PUBLIC"."ANTIRETROVIRAL_ENTITY" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_4" PRIMARY KEY("ID");         
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.ANTIRETROVIRAL_ENTITY;    
CREATE MEMORY TABLE "PUBLIC"."COMPORTEMENT_ENTITY"(
    "ID" UUID NOT NULL,
    "DATE" CHARACTER VARYING(255),
    "EXCESS_PROBABILITY" CHARACTER VARYING(255),
    "EXIPIRING_PROBABILITY" CHARACTER VARYING(255),
    "SURPLUS" CHARACTER VARYING(255)
);    
ALTER TABLE "PUBLIC"."COMPORTEMENT_ENTITY" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_A" PRIMARY KEY("ID");           
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.COMPORTEMENT_ENTITY;      
CREATE MEMORY TABLE "PUBLIC"."COMPTE_ENTITY"(
    "ID" UUID NOT NULL,
    "ROLE_ENTITY_ID" UUID,
    "LOGIN" CHARACTER VARYING(255),
    "PASSWORD" CHARACTER VARYING(255)
);  
ALTER TABLE "PUBLIC"."COMPTE_ENTITY" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_AD" PRIMARY KEY("ID");
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.COMPTE_ENTITY;            
CREATE MEMORY TABLE "PUBLIC"."DEPARTEMENT_ENTITY"(
    "ID" UUID NOT NULL,
    "NOM" CHARACTER VARYING(255) NOT NULL
);        
ALTER TABLE "PUBLIC"."DEPARTEMENT_ENTITY" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_F0" PRIMARY KEY("ID");           
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.DEPARTEMENT_ENTITY;       
CREATE MEMORY TABLE "PUBLIC"."FORMATION_SANITAIRE_ENTITY"(
    "DEPARTEMENT_ENTITY_ID" UUID,
    "ID" UUID NOT NULL,
    "NOM" CHARACTER VARYING(255)
);       
ALTER TABLE "PUBLIC"."FORMATION_SANITAIRE_ENTITY" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_5" PRIMARY KEY("ID");    
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.FORMATION_SANITAIRE_ENTITY;               
CREATE MEMORY TABLE "PUBLIC"."LIGNE_TRAITEMENT_ENTITY"(
    "ID" UUID NOT NULL,
    "NOM" CHARACTER VARYING(255)
);            
ALTER TABLE "PUBLIC"."LIGNE_TRAITEMENT_ENTITY" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_1" PRIMARY KEY("ID");       
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.LIGNE_TRAITEMENT_ENTITY;  
CREATE MEMORY TABLE "PUBLIC"."PRIVILEGE_ENTITY"(
    "ID" UUID NOT NULL,
    "NOM" CHARACTER VARYING(255)
);   
ALTER TABLE "PUBLIC"."PRIVILEGE_ENTITY" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_45" PRIMARY KEY("ID");             
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.PRIVILEGE_ENTITY;         
CREATE MEMORY TABLE "PUBLIC"."PRIVILEGE_ENTITY_ROLE_ENTITIES"(
    "PRIVILEGE_ENTITIES_ID" UUID NOT NULL,
    "ROLE_ENTITIES_ID" UUID NOT NULL
);              
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.PRIVILEGE_ENTITY_ROLE_ENTITIES;           
CREATE MEMORY TABLE "PUBLIC"."ROLE_ENTITY"(
    "ID" UUID NOT NULL,
    "NOM" CHARACTER VARYING(255)
);        
ALTER TABLE "PUBLIC"."ROLE_ENTITY" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_3" PRIMARY KEY("ID");   
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.ROLE_ENTITY;              
CREATE MEMORY TABLE "PUBLIC"."STOCK_ENTITY"(
    "QUANTITE_INITIAL" BIGINT,
    "ANTIRETROVIRAL_ENTITY_ID" UUID,
    "ID" UUID NOT NULL,
    "UTILISATEUR_ENTITY_ID" UUID,
    "DATE_PEREMPTION" CHARACTER VARYING(255),
    "DATE_REAPROVISIONEMENT" CHARACTER VARYING(255),
    "DOSAGE" CHARACTER VARYING(255),
    "NUMERO_LOT" CHARACTER VARYING(255)
);  
ALTER TABLE "PUBLIC"."STOCK_ENTITY" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_14" PRIMARY KEY("ID"); 
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.STOCK_ENTITY;             
CREATE MEMORY TABLE "PUBLIC"."UTILISATEUR_ENTITY"(
    "COMPTE_ENTITY_ID" UUID,
    "FORMATION_SANITAIRE_ENTITY_ID" UUID,
    "ID" UUID NOT NULL,
    "EMAIL" CHARACTER VARYING(255),
    "FONCTION" CHARACTER VARYING(255),
    "NOM" CHARACTER VARYING(255)
);               
ALTER TABLE "PUBLIC"."UTILISATEUR_ENTITY" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_BC" PRIMARY KEY("ID");           
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.UTILISATEUR_ENTITY;       
ALTER TABLE "PUBLIC"."UTILISATEUR_ENTITY" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_B" UNIQUE("COMPTE_ENTITY_ID");   
ALTER TABLE "PUBLIC"."DEPARTEMENT_ENTITY" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_F" UNIQUE("NOM");
ALTER TABLE "PUBLIC"."PRIVILEGE_ENTITY_ROLE_ENTITIES" ADD CONSTRAINT "PUBLIC"."FKF443C9860BTD4FPFSXHGQ6Y1J" FOREIGN KEY("ROLE_ENTITIES_ID") REFERENCES "PUBLIC"."ROLE_ENTITY"("ID") NOCHECK;   
ALTER TABLE "PUBLIC"."STOCK_ENTITY" ADD CONSTRAINT "PUBLIC"."FK5OILL3HKQQ72OILWLVNTIKD8U" FOREIGN KEY("ANTIRETROVIRAL_ENTITY_ID") REFERENCES "PUBLIC"."ANTIRETROVIRAL_ENTITY"("ID") NOCHECK;   
ALTER TABLE "PUBLIC"."UTILISATEUR_ENTITY" ADD CONSTRAINT "PUBLIC"."FKKMPJEFD2GO6F39FGEE44XAL93" FOREIGN KEY("COMPTE_ENTITY_ID") REFERENCES "PUBLIC"."COMPTE_ENTITY"("ID") NOCHECK;             
ALTER TABLE "PUBLIC"."ANTIRETROVIRAL_ENTITY" ADD CONSTRAINT "PUBLIC"."FKQAFLHHNL1QWMK5OO1TWUST9BH" FOREIGN KEY("LIGNE_TRAITEMENT_ENTITY_ID") REFERENCES "PUBLIC"."LIGNE_TRAITEMENT_ENTITY"("ID") NOCHECK;      
ALTER TABLE "PUBLIC"."COMPTE_ENTITY" ADD CONSTRAINT "PUBLIC"."FKA2UOOUXWQ153N14BU6BM6JWC1" FOREIGN KEY("ROLE_ENTITY_ID") REFERENCES "PUBLIC"."ROLE_ENTITY"("ID") NOCHECK;      
ALTER TABLE "PUBLIC"."UTILISATEUR_ENTITY" ADD CONSTRAINT "PUBLIC"."FKBX2AYNQ8TS5L927D5V7E67TM1" FOREIGN KEY("FORMATION_SANITAIRE_ENTITY_ID") REFERENCES "PUBLIC"."FORMATION_SANITAIRE_ENTITY"("ID") NOCHECK;   
ALTER TABLE "PUBLIC"."STOCK_ENTITY" ADD CONSTRAINT "PUBLIC"."FKCQ227UXDK5O8L0K3WFK7TCXR7" FOREIGN KEY("UTILISATEUR_ENTITY_ID") REFERENCES "PUBLIC"."UTILISATEUR_ENTITY"("ID") NOCHECK;         
ALTER TABLE "PUBLIC"."FORMATION_SANITAIRE_ENTITY" ADD CONSTRAINT "PUBLIC"."FKM1OGNT93TD3VJEJ7QRW4OUPX1" FOREIGN KEY("DEPARTEMENT_ENTITY_ID") REFERENCES "PUBLIC"."DEPARTEMENT_ENTITY"("ID") NOCHECK;           
ALTER TABLE "PUBLIC"."ANTIRETROVIRAL_ENTITY" ADD CONSTRAINT "PUBLIC"."FK9MY6GI5T768TIVC7URJPJUNW3" FOREIGN KEY("UTILISATEUR_ENTITY_ID") REFERENCES "PUBLIC"."UTILISATEUR_ENTITY"("ID") NOCHECK;
ALTER TABLE "PUBLIC"."PRIVILEGE_ENTITY_ROLE_ENTITIES" ADD CONSTRAINT "PUBLIC"."FKL19TS6MK0XBVWRVPS335ANQOO" FOREIGN KEY("PRIVILEGE_ENTITIES_ID") REFERENCES "PUBLIC"."PRIVILEGE_ENTITY"("ID") NOCHECK;         
